{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/WORK/youtube-post/front/src/app/components/ToastProvider.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\n\r\ntype Props = {\r\n  flash?: string;\r\n};\r\n\r\nexport default function ToastProvider() {\r\n  const [message, setMessage] = useState<string | null>(null);\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // ① cookie を直接読む\r\n    const cookies = document.cookie.split('; ').map((v) => v.split('='));\r\n    const flash = cookies.find(([key]) => key === 'flash')?.[1];\r\n\r\n    if (!flash) return;\r\n\r\n    // ② メッセージにセット（これが state に残る）\r\n    setMessage(decodeURIComponent(flash));\r\n\r\n    // ③ cookie を即削除（1回だけ）\r\n    document.cookie = 'flash=; max-age=0; path=/';\r\n\r\n    // ④ 表示\r\n    setVisible(true);\r\n    const timer = setTimeout(() => setVisible(false), 3000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  return <div className=\"text-red-500 text-center text-lg\">{message}</div>;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAOe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,iBAAiB;QACjB,MAAM,UAAU,SAAS,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,IAAM,EAAE,KAAK,CAAC;QAC/D,MAAM,QAAQ,QAAQ,IAAI,CAAC,CAAC,CAAC,IAAI,GAAK,QAAQ,UAAU,CAAC,EAAE;QAE3D,IAAI,CAAC,OAAO;QAEZ,6BAA6B;QAC7B,WAAW,mBAAmB;QAE9B,sBAAsB;QACtB,SAAS,MAAM,GAAG;QAElB,OAAO;QACP,WAAW;QACX,MAAM,QAAQ,WAAW,IAAM,WAAW,QAAQ;QAElD,OAAO,IAAM,aAAa;IAC5B,GAAG,EAAE;IAEL,qBAAO,8OAAC;QAAI,WAAU;kBAAoC;;;;;;AAC5D"}}]
}