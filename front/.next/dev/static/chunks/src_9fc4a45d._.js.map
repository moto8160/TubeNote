{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/WORK/youtube-post/front/src/features/videos/video.server.ts"],"sourcesContent":["import { VideoListResponse, YoutubeOEmbedResponse } from '../videos/video.type';\r\n\r\nexport async function fetchVideos(): Promise<VideoListResponse[]> {\r\n  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/videos`);\r\n\r\n  if (!res.ok) {\r\n    throw new Error('Failed to fetch videos');\r\n  }\r\n\r\n  return res.json();\r\n}\r\n\r\n\r\nexport default async function fetchVideoDetail(videoId: string) {\r\n  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/videos/${videoId}`);\r\n  const json = await res.json();\r\n\r\n  if (!res.ok) {\r\n    throw new Error(json.message ?? 'Failed to fetch video');\r\n  }\r\n\r\n  return json;\r\n}\r\n\r\nexport async function fetchOEmbed(videoUrl: string): Promise<YoutubeOEmbedResponse> {\r\n  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/videos/preview`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ videoUrl }),\r\n  });\r\n  const json = await res.json();\r\n\r\n  if (!res.ok) {\r\n    throw new Error(json.message ?? 'Failed to fetch video Preview');\r\n  }\r\n\r\n  return json;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAG6B;AADtB,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,6DAAmC,OAAO,CAAC;IAEnE,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAI,IAAI;AACjB;AAGe,eAAe,iBAAiB,OAAe;IAC5D,MAAM,MAAM,MAAM,MAAM,6DAAmC,QAAQ,EAAE,SAAS;IAC9E,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;IAClC;IAEA,OAAO;AACT;AAEO,eAAe,YAAY,QAAgB;IAChD,MAAM,MAAM,MAAM,MAAM,6DAAmC,eAAe,CAAC,EAAE;QAC3E,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;QAAS;IAClC;IACA,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;IAClC;IAEA,OAAO;AACT"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/WORK/youtube-post/front/src/features/posts/post.server.ts"],"sourcesContent":["'use server';\r\nimport { fetchWithToken } from '@/utils/fetchWithToken';\r\nimport { PostListResponse } from './post.type';\r\n\r\nexport async function fetchPosts(): Promise<PostListResponse[]> {\r\n  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/posts`);\r\n\r\n  if (!res.ok) {\r\n    throw new Error('Failed to fetch posts');\r\n  }\r\n\r\n  return res.json();\r\n}\r\n\r\nexport async function createPost(formData: FormData) {\r\n  const videoUrl = formData.get('url');\r\n  const text = formData.get('text');\r\n\r\n  const res = await fetchWithToken(`${process.env.NEXT_PUBLIC_API_URL}/posts`, {\r\n    method: 'POST',\r\n    body: JSON.stringify({ videoUrl, text }),\r\n  });\r\n\r\n  const json = await res.json();\r\n\r\n  if (!res.ok) {\r\n    throw new Error(json.message);\r\n  }\r\n\r\n  return json;\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAcsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}}]
}